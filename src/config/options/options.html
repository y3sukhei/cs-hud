<div class="buttons">
	<a href="/licenses" target="_blank">
		Open Licenses
	</a>

	<a href="/hud" target="_blank">
		Open HUD
	</a>

	<a href="/radar" target="_blank">
		Open Radar
	</a>

	<button class="save" @click.prevent="save">
		Save
	</button>

	<button class="force-hud-refresh" @click.prevent="forceHudRefresh">
		Force HUD Refresh
	</button>
</div>

<Update />


<div style="margin: 50px;">

	<h2>
		Cameras
	</h2>
	
</div>





<section v-for="section of sections" :id="section.name">
	
	<header>
		<h2>{{ section.name }}</h2>

		<p v-if="section.description">
			{{ section.description }}
		</p>
	</header>

	

	<div v-for="option of section.options" class="input-group">
		<label :for="option.key">
			<template v-for="(segment, i) of option.keySegments">
				{{ segment }}{{ i === option.keySegments.length - 1 ? '' : '.' }}<wbr>
			</template>
		</label>
		
		<div v-if="option.type == 'array'">
			<button style="margin-top: 40px;" @click="resetOptions(option.key)">Reset Values</button>	
			<div  style="display: grid; grid-template-columns: 10fr 10fr 10fr 10fr 10fr; margin: 50px;">
				
				<div v-for="(camera, index) in optionValues[option.key]" class="iframe" id="p1">
					<div>Selected: {{ camera.slot }}</div>
					
					<select v-model="camera.slot" @change="onSelectChange">
						<option v-for="option in options" :value="option.value" :disabled="option.disabled">
							{{ option.text }}
						</option>
					</select>
			  
				<div>Camera: {{ index+1 + '\n' + camera.url}}</div>
				<iframe :src="camera.url" scrolling="no" allow="autoplay" width="320" height="240">
				</iframe>	
			</div>
		</div>
		
	</div>

		<div class="input">
			<textarea
				v-if="option.inputType === 'textarea'"
				:id="option.key"
				:placeholder="option.fallback"
				v-model="optionValues[option.key]"
			></textarea>

			<input
				v-else-if="option.type !=='array'"
				:type="option.inputType"
				:id="option.key"
				:placeholder="option.fallback"
				v-model="optionValues[option.key]"
			>

			<button v-if="option.type === 'color'" class="reset" @click.prevent="resetValue(option.key)">
				Reset to default
			</button>
		</div>

		<div class="default-and-label">
			<p v-if="option.fallback && option.type !== 'array'" class="default">
				Default:
				<code v-if="option.type === 'boolean'">{{ option.fallback ? 'yes' : 'no' }}</code>
				<code v-else>{{ option.fallback }}</code>
			</p>

			<p v-if="option.label" class="label">
				{{ option.label }}
			</p>
		</div>
	</div>
</section>
